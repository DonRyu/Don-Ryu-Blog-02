---
import Card from '@/components/Card'
import Hobby from '@/components/Hobby'
import Intro from '@/components/Intro'
import Learning from '@/components/Learning'
import ListPosts from '@/components/ListPosts'
import MyLinks from '@/components/MyLinks'
import Projects from '@/components/Projects'
import Quote from '@/components/Quote'
import Reading from '@/components/Reading'
import BaseLayout from '@/layouts/BaseLayout'
import { Image } from 'astro:assets'
import { getCollection } from 'astro:content'
// import avatar from '../assets/images/avatar.png'
const posts = await getCollection('blog')
---

<BaseLayout title='Home'>
	<div
		class='absolute bottom-auto left-auto right-0 top-0 h-[60%] w-full translate-x-[0%] translate-y-[30%] rounded-sm bg-[rgba(176,117,243,0.5)] opacity-50 blur-[80px]'
	>
	</div>
	<div
		class='text-black dark:text-white m-auto grid gap-2 max-w-6xl overflow-hidden relative w-full p-4 sm:gap-2 md:grid-cols-3 md:gap-3 lg:grid-cols-4
		lg:gap-3  pt-0'
	>
		<Card
			class='col-span-1 md:col-span-3 md:row-span-2 flex flex-col md:space-y-0 md:space-x-4 md:flex-row hover:border-purple-600'
		>
			<Intro />
		</Card>
		<Card
			class='col-span-1 md:col-span-1 md:row-span-1 flex flex-col md:space-y-0 md:space-x-4 md:flex-row hover:border-purple-600'
		>
			<MyLinks />
		</Card>
		<Card
			class='col-span-1 md:col-span-4 md:row-span-2 flex flex-col md:space-y-0 md:space-x-4 md:flex-row hover:border-purple-600 min-h-[130px]'
		>
			<ListPosts posts={posts} />
		</Card>
		<Card
			class='col-span-1 md:col-span-1 md:row-span-1 flex flex-col md:space-y-0 md:space-x-4 md:flex-row hover:border-purple-600 min-h-[130px]'
		>
			<Learning />
		</Card>
	</div>
</BaseLayout>

<script>
	import { animate } from 'motion'
	const showAnimations = localStorage.getItem('animations') === 'true'

	if (showAnimations) {
		animate(
			'.title',
			{ y: [80, 0], opacity: [0, 1] },
			{
				duration: 2.5,
				opacity: { duration: 3 },

				offset: [0, 0.55, 0.75]
			}
		)
	}
</script>
